namespace = historical_flavor

# Great Comet (1456) — EU5-safe version
historical_flavor.2001 = {
    type = country_event
    title = historical_flavor.2001.title
    desc = historical_flavor.2001.desc
    fire_only_once = yes

    trigger = {
        current_date >= 1456.1.1
        current_date <= 1457.12.31
    }

    mean_time_to_happen = { months = 24 }

    option = {
        name = historical_flavor.2001.a
        add_stability = stability_mild_bonus
        add_prestige = prestige_mild_bonus
    }

    option = {
        name = historical_flavor.2001.b
        add_prestige = prestige_mild_bonus
        change_gold_effect = { scale = 2 }
    }
}

# Streltsy Formation in Russia (1550)
historical_flavor.2008 = {
    type = country_event
    title = historical_flavor.2008.title
    desc = historical_flavor.2008.desc
    fire_only_once = yes

    trigger = {
        tag = c:MOS
        current_date >= 1550.1.1
        current_date <= 1551.12.31
        owns = location:moscow
    }

    mean_time_to_happen = { months = 12 }

    option = {
        name = historical_flavor.2008.a
        add_country_modifier = {
            modifier = streltsy_military_corps
            months = 12
        }
        add_army_tradition = army_tradition_mild_bonus
        add_prestige = prestige_mild_bonus
    }

    option = {
        name = historical_flavor.2008.b
        change_gold_effect = { scale = 3 }
        add_prestige = prestige_mild_bonus
    }
}

# Fugger Banking Dynasty (1473)
historical_flavor.2009 = {
    type = country_event
    title = historical_flavor.2009.title
    desc = historical_flavor.2009.desc
    fire_only_once = yes

    trigger = {
        owns = location:augsburg
        current_date >= 1473.1.1
        current_date <= 1510.12.31
    }

    mean_time_to_happen = { months = 12 }

    option = {
        name = historical_flavor.2009.a
        add_country_modifier = {
            modifier = fugger_banking_partnership
            months = 12
        }
        change_gold_effect = { scale = 5 }
        add_prestige = prestige_mild_bonus
    }

    option = {
        name = historical_flavor.2009.b
        add_prestige = prestige_mild_bonus
        change_monthly_income_effect = { value = 10 }
    }
}

# Battle of Crecy Tactics (1346)
historical_flavor.2010 = {
    type = country_event
    title = historical_flavor.2010.title
    desc = historical_flavor.2010.desc
    fire_only_once = yes

    trigger = {
        tag = c:ENG
        current_date >= 1346.8.1
        current_date <= 1347.12.31
    }

    mean_time_to_happen = { months = 6 }

    option = {
        name = historical_flavor.2010.a
        add_country_modifier = {
            modifier = crecy_battlefield_innovations
            months = 12
        }
        add_military_power = military_power_mild_bonus
        add_army_tradition = army_tradition_mild_bonus
    }

    option = {
        name = historical_flavor.2010.b
        add_prestige = prestige_large_bonus
    }
}

# Hussite Wagon Fort Tactics (1419)
historical_flavor.2011 = {
    type = country_event
    title = historical_flavor.2011.title
    desc = historical_flavor.2011.desc
    fire_only_once = yes

    trigger = {
        OR = {
            tag = c:BOH
            owns = location:prague
        }
        current_date >= 1419.1.1
        current_date <= 1435.12.31
    }

    mean_time_to_happen = { months = 12 }

    option = {
        name = historical_flavor.2011.a
        add_country_modifier = {
            modifier = hussite_wagon_fort_tactics
            months = 12
        }
        add_military_power = military_power_mild_bonus
        add_prestige = prestige_mild_bonus
    }

    option = {
        name = historical_flavor.2011.b
        add_prestige = prestige_large_bonus
        add_army_tradition = army_tradition_weak_bonus
    }
}

# Leipzig Trade Fair (1497)
historical_flavor.2012 = {
    type = country_event
    title = historical_flavor.2012.title
    desc = historical_flavor.2012.desc
    fire_only_once = yes

    trigger = {
        owns = location:leipzig
        current_date >= 1497.1.1
        current_date <= 1498.12.31
    }

    mean_time_to_happen = { months = 12 }

    option = {
        name = historical_flavor.2012.a
        add_country_modifier = {
            modifier = leipzig_trade_fair_prestige
            months = 12
        }
        add_prestige = prestige_mild_bonus
    }

    option = {
        name = historical_flavor.2012.b
        change_gold_effect = { scale = 3 }
    }
}

# English Longbow Innovation (1380)
historical_flavor.2013 = {
    type = country_event
    title = historical_flavor.2013.title
    desc = historical_flavor.2013.desc
    fire_only_once = yes

    trigger = {
        tag = c:ENG
        current_date >= 1380.1.1
        current_date <= 1381.12.31
    }

    mean_time_to_happen = { months = 12 }

    option = {
        name = historical_flavor.2013.a
        add_country_modifier = {
            modifier = english_longbow_tradition
            months = 12
        }
        add_military_power = military_power_mild_bonus
    }

    option = {
        name = historical_flavor.2013.b
        add_prestige = prestige_large_bonus
    }
}

# Nuremberg Chronicles (1493)
historical_flavor.2014 = {
    type = country_event
    title = historical_flavor.2014.title
    desc = historical_flavor.2014.desc
    fire_only_once = yes

    trigger = {
        owns = location:nuremberg
        current_date >= 1493.1.1
        current_date <= 1494.12.31
    }

    mean_time_to_happen = { months = 12 }

    option = {
        name = historical_flavor.2014.a
        add_country_modifier = {
            modifier = nuremberg_chronicles_fame
            months = 12
        }
        add_prestige = prestige_mild_bonus
    }

    option = {
        name = historical_flavor.2014.b
        change_gold_effect = { scale = 2 }
    }
}

# Magdeburg Siege Devastation (1631)
historical_flavor.2015 = {
    type = country_event
    title = historical_flavor.2015.title
    desc = historical_flavor.2015.desc
    fire_only_once = yes

    trigger = {
        owns = location:magdeburg
        current_date >= 1631.5.1
        current_date <= 1631.6.30
    }

    mean_time_to_happen = { months = 1 }

    option = {
        name = historical_flavor.2015.a
        add_country_modifier = {
            modifier = magdeburg_sack_trauma
            months = 6
        }
    }

    option = {
        name = historical_flavor.2015.b
        add_prestige = prestige_mild_bonus
        add_stability = stability_mild_bonus
    }
}

# Irish Bardic Tradition (1500s)
historical_flavor.2016 = {
    type = country_event
    title = historical_flavor.2016.title
    desc = historical_flavor.2016.desc
    fire_only_once = yes

    trigger = {
        tag = c:IRE
        current_date >= 1500.1.1
        current_date <= 1550.12.31
    }

    mean_time_to_happen = { months = 12 }

    option = {
        name = historical_flavor.2016.a
        add_country_modifier = {
            modifier = irish_bardic_tradition
            months = 12
        }
        add_prestige = prestige_mild_bonus
    }

    option = {
        name = historical_flavor.2016.b
        change_gold_effect = { scale = 2 }
        add_prestige = prestige_weak_bonus
    }
}

# Highland Clearances (1750s-1800s)
historical_flavor.2017 = {
    type = country_event
    title = historical_flavor.2017.title
    desc = historical_flavor.2017.desc
    fire_only_once = yes

    trigger = {
        tag = c:SCO
        current_date >= 1750.1.1
        current_date <= 1800.12.31
    }

    mean_time_to_happen = { months = 24 }

    option = {
        name = historical_flavor.2017.a
        add_country_modifier = {
            modifier = highland_clearances_impact
            months = 12
        }
        change_gold_effect = { scale = 5 }
    }

    option = {
        name = historical_flavor.2017.b
        add_stability = stability_mild_bonus
        add_prestige = prestige_mild_bonus
    }
}

# Scottish Enlightenment (1740s)
historical_flavor.2018 = {
    type = country_event
    title = historical_flavor.2018.title
    desc = historical_flavor.2018.desc
    fire_only_once = yes

    trigger = {
        tag = c:SCO
        current_date >= 1740.1.1
        current_date <= 1760.12.31
    }

    mean_time_to_happen = { months = 12 }

    option = {
        name = historical_flavor.2018.a
        add_country_modifier = {
            modifier = scottish_enlightenment_modifier
            months = 12
        }
        add_prestige = prestige_large_bonus
    }

    option = {
        name = historical_flavor.2018.b
        add_prestige = prestige_mild_bonus
        change_gold_effect = { scale = 3 }
    }
}

# Jacobite Rising - Scotland (1715 or 1745)
historical_flavor.2019 = {
    type = country_event
    title = historical_flavor.2019.title
    desc = historical_flavor.2019.desc
    fire_only_once = yes

    trigger = {
        tag = c:SCO
        current_date >= 1715.1.1
        current_date <= 1746.12.31
    }

    mean_time_to_happen = { months = 12 }

    immediate = {
        set_global_variable = {
            name = jacobite_rising_active
            value = yes
        }
    }

    option = {
        name = historical_flavor.2019.a
        add_country_modifier = {
            modifier = jacobite_rising_unrest
            months = 8
        }
        # Trigger event for England/Great Britain
        every_country = {
            limit = {
                OR = {
                    tag = c:ENG
                    tag = c:GBR
                }
            }
            trigger_event = {
                id = historical_flavor.2020
                days = 30
            }
        }
    }

    option = {
        name = historical_flavor.2019.b
        add_stability = stability_mild_bonus
        add_prestige = prestige_mild_bonus
        change_gold_effect = { scale = 3 }
        # Still trigger the reaction event
        every_country = {
            limit = {
                OR = {
                    tag = c:ENG
                    tag = c:GBR
                }
            }
            trigger_event = {
                id = historical_flavor.2020
                days = 30
            }
        }
    }
}

# Jacobite Rising - England/Britain Response
historical_flavor.2020 = {
    type = country_event
    title = historical_flavor.2020.title
    desc = historical_flavor.2020.desc

    is_triggered_only = yes

    option = {
        name = historical_flavor.2020.a
        add_country_modifier = {
            modifier = jacobite_rising_unrest
            months = 6
        }
        add_military_power = military_power_mild_bonus
    }

    option = {
        name = historical_flavor.2020.b
        add_stability = stability_mild_bonus
        change_gold_effect = { scale = 5 }
        add_prestige = prestige_mild_bonus
    }
}
