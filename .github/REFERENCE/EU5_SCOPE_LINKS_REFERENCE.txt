## EU5 Scope Links Reference
## Source: https://eu5.paradoxwikis.com/Scope_links
## Last Updated: December 5, 2025

======================
WHAT ARE SCOPE LINKS?
======================
Scope links (also called "event targets") are references used to navigate between different 
scopes in EU5 scripting. They allow you to traverse relationships between game objects.

Think of them as pointers or references that let you move from one scope to another:
- From a country to its capital
- From a character to their employer
- From a location to its owner
- And many more...

======================
SCOPE LINK SYNTAX
======================

BASIC SYNTAX
----------------------------------
scope_link_name                    # Simple scope link
scope_link_name:key               # Scope link with database key
scope_link_name(<parameter>)      # Scope link with parameter
scope_link_name = { ... }         # Scope link with conditions block

DOT CHAINING
----------------------------------
ROOT.capital.owner.ruler          # Chain multiple scope links
# Reads as: "Root's capital's owner's ruler"

SAFE ACCESSOR
----------------------------------
capital ?= { ... }                # Only execute if capital exists
# Use ?= when scope might not exist to prevent errors

======================
SCOPE LINK CATEGORIES
======================

1. DATA SCOPE LINKS - Return another scope
2. VALUE SCOPE LINKS - Return a number/boolean
3. WILDCARD SCOPE LINKS - Meta-references

======================
DATA SCOPE LINKS
(Return another scope)
======================

COUNTRY SCOPE LINKS
----------------------------------
overlord                          # Country's overlord
top_overlord                      # Top-level overlord
ruler                             # Country's current ruler
heir                              # Country's heir
regent                            # Country's regent (if in regency)
consort                           # Ruler's consort/spouse
capital                           # Country's capital location
autocephalous_patriarchate        # Country's religious organization
union                             # Country's personal union IO
marriage_union                    # Country's marriage union IO
civil_war                         # Country's current civil war
civil_war_opponent                # Civil war opponent country

CHARACTER SCOPE LINKS
----------------------------------
father                            # Character's father
mother                            # Character's mother
employer                          # Character's employer country
location                          # Character's current location
unit                              # Unit commanded by character
first_spouse                      # Character's first spouse
dynasty                           # Character's dynasty
culture                           # Character's culture
religion                          # Character's religion
ethnicity                         # Character's ethnicity

LOCATION SCOPE LINKS
----------------------------------
owner                             # Location's owner country
controller                        # Location's controller (may differ in war)
top_owner                         # Top-level owner (through vassalage)
previous_owner                    # Previous owner country
province                          # Province containing this location
area                              # Area containing this location
region                            # Region containing this area
market                            # Market this location trades in
sea_zone                          # Adjacent sea zone

PROVINCE SCOPE LINKS
----------------------------------
province_capital                  # Province's capital location
owner                             # Province owner
capital                           # Synonym for province_capital

AREA SCOPE LINKS
----------------------------------
region                            # Region containing this area

BUILDING SCOPE LINKS
----------------------------------
location                          # Location containing this building
owner                             # Owner of the building's location
building_type                     # Type of this building

INTERNATIONAL ORGANIZATION SCOPE LINKS
----------------------------------
leader_country                    # Current leader of the IO
last_leader_country               # Previous leader
international_organization_target # Target country of IO action

WAR SCOPE LINKS
----------------------------------
attacker_leader                   # War leader of attacking side
defender_leader                   # War leader of defending side

UNIT SCOPE LINKS
----------------------------------
owner                             # Country owning this unit
leader                            # Character commanding this unit
unit_location                     # Current location of unit
unit_destination                  # Ultimate destination
unit_next_location                # Immediate next location

MARKET SCOPE LINKS
----------------------------------
most_powerful_merchant            # Dominant merchant country

TRADE SCOPE LINKS
----------------------------------
from_market                       # Source market
to_market                         # Destination market
traded_goods                      # Goods being traded
owner                             # Country conducting trade

======================
VALUE SCOPE LINKS
(Return numbers/booleans)
======================

COUNTRY VALUES
----------------------------------
gold                              # Country's treasury
manpower                          # Available manpower
stability                         # Stability value
prestige                          # Prestige value
num_of_provinces                  # Number of owned provinces
rank                              # Country rank (numerical)

LOCATION VALUES
----------------------------------
development                       # Location development
prosperity                        # Prosperity value
institution_progress              # Institution progress (0-1)

CHARACTER VALUES
----------------------------------
age                               # Character's age
administrative                    # Administrative ability
diplomatic                        # Diplomatic ability
military                          # Military ability

ESTATE VALUES
----------------------------------
estate_power                      # Power of estate
estate_satisfaction               # Estate satisfaction
estate_target_satisfaction        # Target satisfaction
num_estate_privileges             # Number of privileges granted

MARKET VALUES
----------------------------------
market_price                      # Price of goods in market
target_price                      # Target price of goods
stockpile_in_market               # Stockpiled amount
produced_in_market                # Amount produced
traded_in_market                  # Amount traded

======================
WILDCARD SCOPE LINKS
======================

compare_value                     # Any numerical comparison trigger
named_script_value                # Reference to script value calculation
var:<name>                        # Previously saved variable
scope:<name>                      # Previously saved scope
global_var:<name>                 # Global variable
local_var:<name>                  # Local variable

======================
SPECIAL SCOPE LINKS
======================

ROOT
----------------------------------
# The primary scope (event receiver, decision taker, etc.)
ROOT.capital                      # Root country's capital

THIS
----------------------------------
# Current scope in context
# Changes as you navigate scope chains

PREV
----------------------------------
# Previous scope before entering current scope
every_owned_location = {
    PREV = {                      # Refers back to country scope
        add_prestige = 1
    }
}

======================
DATABASE KEY SCOPE LINKS
======================

COUNTRY BY TAG
----------------------------------
c:TAG                             # Direct country reference
c:FRA                             # France
c:ENG                             # England
c:HAN                             # Hansa

CULTURE BY KEY
----------------------------------
culture:culture_key
culture:lombard
culture:frankish

RELIGION BY KEY
----------------------------------
religion:religion_key
religion:catholic
religion:orthodox

TRAIT BY KEY
----------------------------------
trait:trait_key
trait:ambitious
trait:incompetent_fool

BUILDING BY KEY
----------------------------------
building:building_key             # Only valid in location scope
building:temple
building:marketplace

GOODS BY KEY
----------------------------------
goods:goods_key
goods:grain
goods:cloth

LAW BY KEY
----------------------------------
law:law_key
law:free_trade
law:serfdom

REGION BY KEY
----------------------------------
region:region_key
region:low_countries_region
region:italy_region

======================
PARAMETRIC SCOPE LINKS
======================

ESTATE LINKS
----------------------------------
estate(<estate_type>)             # Link to specific estate
estate(estate:burghers)
estate(estate:nobility)

ACTIVE RESOLUTION
----------------------------------
active_resolution(<resolution>)   # Get active resolution in IO
active_resolution:resolution_key

LAW POLICY
----------------------------------
law_policy(<law>)                # Get chosen policy for law
law_policy(law:trade_policy)

ACTIVE OUTBREAK
----------------------------------
active_outbreak(<disease>)        # Get disease outbreak
active_outbreak(disease:plague)

======================
SCOPE LINK CHAINING EXAMPLES
======================

SIMPLE CHAIN
----------------------------------
ROOT.capital.owner.ruler
# Current country's capital's owner's ruler

COMPLEX CHAIN
----------------------------------
ROOT.ruler.father.employer.capital.province.region
# Ruler's father's employer's capital province's region

WITH PARAMETERS
----------------------------------
ROOT.estate(estate:burghers).estate_power
# Country's burgher estate's power value

MIXED TYPES
----------------------------------
scope:target_country.capital.development
# Saved scope's capital's development value

======================
SCOPE LINK VALIDATION
======================

SAFE ACCESSOR (?=)
----------------------------------
capital ?= {                      # Only execute if capital exists
    add_development = 1
}

EXISTS CHECK
----------------------------------
if = {
    limit = { exists = capital }
    capital = {
        add_development = 1
    }
}

TYPE CHECKING
----------------------------------
if = {
    limit = { 
        capital = { 
            is_location = yes     # Verify scope type
        }
    }
}

======================
COMMON SCOPE LINK PATTERNS
======================

NAVIGATE TO OWNER
----------------------------------
# From location to owner
ROOT.owner = { ... }

# From building to owner
ROOT.location.owner = { ... }

# From character to employer
ROOT.employer = { ... }

NAVIGATE TO CAPITAL
----------------------------------
# From country to capital location
ROOT.capital = { ... }

# From country to capital province
ROOT.capital.province = { ... }

NAVIGATE TO RULER
----------------------------------
# From country to ruler
ROOT.ruler = { ... }

# From country to ruler's culture
ROOT.ruler.culture = { ... }

NAVIGATE TO OVERLORD
----------------------------------
# Direct overlord
ROOT.overlord = { ... }

# Top-level overlord
ROOT.top_overlord = { ... }

NAVIGATE TO MARKET
----------------------------------
# From location to market
ROOT.market = { ... }

# From country to capital's market
ROOT.capital.market = { ... }

======================
SCOPE LINK USAGE IN TRIGGERS
======================

COUNTRY COMPARISONS
----------------------------------
overlord = ROOT                   # Check if overlord is ROOT
capital.owner = c:FRA            # Check if capital owner is France

NUMERIC COMPARISONS
----------------------------------
gold >= 100                       # Direct value comparison
capital.development >= 10         # Chained value comparison

EXISTENCE CHECKS
----------------------------------
has_heir = yes                    # Same as: exists = heir
has_capital = yes                 # Same as: exists = capital

SCOPE EQUIVALENCE
----------------------------------
employer = THIS.overlord          # Check if employer equals overlord
owner = scope:target_country      # Check if owner is saved scope

======================
SCOPE LINK USAGE IN EFFECTS
======================

DIRECT EFFECTS
----------------------------------
capital = {
    add_development = 5
}

SAVE SCOPE
----------------------------------
ruler = {
    save_scope_as = current_ruler
}
# Later: scope:current_ruler = { ... }

SET SCOPE VALUE
----------------------------------
capital = {
    change_owner = ROOT.overlord
}

CONDITIONAL EFFECTS
----------------------------------
if = {
    limit = { exists = heir }
    heir = {
        add_trait = trait:ambitious
    }
}

======================
ITERATIVE SCOPE LINKS
======================

EVERY ITERATION
----------------------------------
every_owned_location = {          # Iterate all owned locations
    limit = { development >= 10 }
    add_building = building:temple
}

every_subject_country = {         # Iterate all subjects
    add_liberty_desire = -10
}

RANDOM SELECTION
----------------------------------
random_owned_location = {         # Pick one random location
    limit = { has_building = building:temple }
    add_development = 5
}

ORDERED ITERATION
----------------------------------
ordered_owned_location = {        # Ordered by criterion
    order_by = development
    max = 3                       # Only top 3
    add_building_level = 1
}

ANY CHECK
----------------------------------
any_owned_location = {            # Check if any location matches
    development >= 20
}

======================
SCOPE LINK DEBUGGING
======================

LOG SCOPE LINKS
----------------------------------
log = "Capital: [ROOT.capital.GetName]"
log = "Owner: [ROOT.owner.GetName]"
log = "Ruler: [ROOT.ruler.GetName]"

TRACE SCOPE CHAIN
----------------------------------
ROOT = {
    log = "Country: [This.GetName]"
    capital = {
        log = "Capital: [This.GetName]"
        log = "Development: [This.GetDevelopment]"
    }
}

VALIDATE SCOPE TYPE
----------------------------------
if = {
    limit = { 
        capital = {
            log = "Capital exists and is: [This.GetName]"
        }
    }
}
else = {
    log = "Capital does not exist!"
}

======================
COMMON ERRORS & FIXES
======================

âŒ ERROR: Invalid scope link chain
ROOT.capital.tag                  # tag is country scope, capital is location

âœ… FIX: Add proper scope transition
ROOT.capital.owner.tag            # Now accessing country scope

âŒ ERROR: Using scope link in wrong scope
ROOT = {                          # Country scope
    ruler                         # OK
    father                        # ERROR: father is character scope link
}

âœ… FIX: Navigate to correct scope first
ROOT.ruler = {                    # Character scope
    father = { ... }              # OK
}

âŒ ERROR: Accessing non-existent scope
heir = {                          # ERROR if no heir exists
    add_trait = trait:ambitious
}

âœ… FIX: Use safe accessor or exists check
if = {
    limit = { exists = heir }
    heir = {
        add_trait = trait:ambitious
    }
}

======================
BEST PRACTICES
======================

1. Use descriptive saved scope names
   âœ… save_scope_as = target_country
   âŒ save_scope_as = t

2. Validate scope existence before accessing
   âœ… capital ?= { add_development = 1 }
   âŒ capital = { add_development = 1 }  # May error

3. Keep scope chains readable
   âœ… ROOT.capital.owner = { save_scope_as = capital_owner }
      scope:capital_owner.ruler = { ... }
   âŒ ROOT.capital.owner.ruler.father.employer.capital.owner = { ... }

4. Document complex scope navigation
   # Navigate from country to ruler's father's employer
   ROOT.ruler.father.employer = { ... }

5. Use local scopes for temporary references
   save_temporary_scope_as = temp_location
   # Only valid in current block

6. Prefer direct scope links over saved scopes when possible
   âœ… ROOT.capital.owner
   âŒ ROOT.capital = { save_scope_as = cap }
      scope:cap.owner = { save_scope_as = own }

7. Test scope navigation incrementally
   Add log statements at each step to verify scope chain

8. Use compare_value for complex numerical comparisons
   scope:country.gold >= scope:other_country.gold

9. Remember that THIS changes in nested scopes
   Document which scope THIS refers to

10. Use ?= accessor for optional scope links
    heir ?= { add_prestige = 10 }  # Safe if no heir

======================
ALL SCOPE LINKS REFERENCE
(Alphabetical)
======================

active_mission                    # â†’ mission
active_outbreak(<disease>)        # â†’ disease_outbreak
active_resolution(<resolution>)   # â†’ active_resolution
advance_type                      # â†’ advance_type
age                               # â†’ age (value)
area                              # â†’ area
area_exploration(<country>)       # â†’ exploration
artist_type                       # â†’ artist_type
attacker_leader                   # â†’ country (war leader)
autocephalous_patriarchate        # â†’ international_organization
avatar                            # â†’ avatar
birth_location                    # â†’ location
borrower                          # â†’ country
building:<key>                    # â†’ building (in location scope)
building_type                     # â†’ building_type
c:<TAG>                           # â†’ country
cabinet_action                    # â†’ cabinet_action
cabinet_member                    # â†’ character
capital                           # â†’ location
cardinal                          # â†’ cardinal
casus_belli                       # â†’ casus_belli
character:<key>                   # â†’ character
child_education                   # â†’ child_education
civil_war                         # â†’ war
civil_war_opponent                # â†’ country
climate                           # â†’ climate
combat                            # â†’ combat
combat_attacker                   # â†’ combat_side
combat_defender                   # â†’ combat_side
commander                         # â†’ country
commanding_country                # â†’ country
compare_value                     # â†’ value (wildcard)
consort                           # â†’ character
continent                         # â†’ continent
controller                        # â†’ country
country_rank                      # â†’ country_rank
court_dialect                     # â†’ dialect
court_language                    # â†’ language
creator                           # â†’ character (work of art)
culture                           # â†’ culture
culture_group                     # â†’ culture_group
current_mission_task              # â†’ mission_task
customer                          # â†’ country (mercenary)
defender_leader                   # â†’ country (war)
demand                            # â†’ demand
dialect                           # â†’ dialect
disaster_type                     # â†’ disaster_type
disease                           # â†’ disease
dominant_country                  # â†’ country (culture)
dominant_culture                  # â†’ culture
dominant_dialect                  # â†’ dialect
dominant_language                 # â†’ language
dominant_religion                 # â†’ religion
dynasty                           # â†’ dynasty
dynasty_head                      # â†’ character
dynasty_home                      # â†’ location
employer                          # â†’ country
employment_system                 # â†’ employment_system
enemy_side                        # â†’ combat_side
estate(<estate_type>)             # â†’ estate
estate_power                      # â†’ value
estate_satisfaction               # â†’ value
estate_target_satisfaction        # â†’ value
estate_type                       # â†’ estate_type
ethnicity                         # â†’ ethnicity
exploration                       # â†’ exploration
father                            # â†’ character
first_spouse                      # â†’ character
formable_country                  # â†’ formable_country
from_market                       # â†’ market
global_var:<name>                 # â†’ varies
god                               # â†’ god
goods                             # â†’ goods
government_type                   # â†’ government
group                             # â†’ group (religion)
heir                              # â†’ character
heir_selection                    # â†’ heir_selection
holy_site                         # â†’ holy_site
institution                       # â†’ institution
institution_progress              # â†’ value
international_organization        # â†’ international_organization
international_organization_target # â†’ country
international_organization_type   # â†’ international_organization_type
known_in_country                  # â†’ value
language                          # â†’ language
language_family                   # â†’ language_family
last_leader_country               # â†’ country
last_valid_ruler                  # â†’ character
law                               # â†’ law
law_policy(<law>)                 # â†’ policy
leader                            # â†’ character
leader_at_index(<int>)            # â†’ character
leader_country                    # â†’ country
leading_unit                      # â†’ unit
levy_setup                        # â†’ levy_setup
liturgical_dialect                # â†’ dialect
liturgical_language               # â†’ language
local_var:<name>                  # â†’ varies
location                          # â†’ location
location_rank                     # â†’ location_rank
market                            # â†’ market
market_price                      # â†’ value
marriage_union                    # â†’ international_organization
mercenary_home                    # â†’ location
mission                           # â†’ mission
mission_task                      # â†’ mission_task
modifier                          # â†’ modifier value
most_powerful_merchant            # â†’ country
mother                            # â†’ character
named_script_value                # â†’ value (wildcard)
num_estate_privileges             # â†’ value
num_location_rank                 # â†’ value
num_pop_type                      # â†’ value
origin                            # â†’ location
original_outbreak                 # â†’ disease_outbreak
overlord                          # â†’ country
owner                             # â†’ country
owning_unit                       # â†’ unit
parliament_issue                  # â†’ parliament_issue
parliament_seat                   # â†’ location
parliament_type                   # â†’ parliament_type
policy                            # â†’ policy
pop_type                          # â†’ pop_type
PREV                              # â†’ varies (previous scope)
previous_owner                    # â†’ country
previous_ruler                    # â†’ character
produced_goods                    # â†’ goods
produced_in_country               # â†’ value
produced_in_market                # â†’ value
production_method                 # â†’ production_method
province                          # â†’ province
province_capital                  # â†’ location
province_definition               # â†’ province_definition
raw_material                      # â†’ goods
rebel                             # â†’ rebels
recruitment_method                # â†’ recruitment_method
regent                            # â†’ character
region                            # â†’ region
relation_type                     # â†’ relation_type
religion                          # â†’ religion
religion_group                    # â†’ group
religious_aspect                  # â†’ religious_aspect
religious_head                    # â†’ country
religious_school                  # â†’ religious_school
resolution                        # â†’ resolution
resolution_proposer               # â†’ country
revolutionary_target              # â†’ country
road_type                         # â†’ road_type
ROOT                              # â†’ varies (root scope)
rule_end_date                     # â†’ date
ruler                             # â†’ character
ruler_or_heir_if_regent           # â†’ character
ruler_or_regent                   # â†’ character
scope:<name>                      # â†’ varies (saved scope)
sea_zone                          # â†’ location
second_best_market                # â†’ market
secondary_culture                 # â†’ culture
siege                             # â†’ siege
siege_defender                    # â†’ country
siege_main_attacker               # â†’ country
situation                         # â†’ situation
societal_value                    # â†’ value
societal_value_type               # â†’ societal_value_type
special_status                    # â†’ special_status
stockpile_in_market               # â†’ value
sub_continent                     # â†’ sub_continent
sub_unit_category                 # â†’ sub_unit_category
subject_type                      # â†’ subject_type
succession_law                    # â†’ heir_selection
target_price                      # â†’ value
THIS                              # â†’ varies (current scope)
to_market                         # â†’ market
top_overlord                      # â†’ country
top_owner                         # â†’ country
topography                        # â†’ topography
traded_goods                      # â†’ goods
traded_in_market                  # â†’ value
trait                             # â†’ trait
union                             # â†’ international_organization
unit                              # â†’ unit
unit_destination                  # â†’ location
unit_location                     # â†’ location
unit_next_location                # â†’ location
unit_type                         # â†’ unit_type
var:<name>                        # â†’ varies (saved variable)
vegetation                        # â†’ vegetation
work_of_art                       # â†’ work_of_art
work_of_art_type                  # â†’ work_of_art_type

======================
CROSS-REFERENCES
======================
ðŸ“„ Related Files:
- EU5_SCOPES_REFERENCE.txt - Scope system overview
- EU5_EFFECTS_REFERENCE.txt - Valid effects by scope
- EU5_TRIGGERS_REFERENCE.txt - Valid triggers by scope
- EU5_MODIFIERS_REFERENCE.txt - Modifiers and their scopes
